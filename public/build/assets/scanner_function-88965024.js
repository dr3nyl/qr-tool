$(document).scannerDetection({ignoreIfFocusOn:"input",timeBeforeScanTest:200,avgTimeByChar:40,preventDefault:!0,endChar:[13],onComplete:function(n,r){c.value=n,a(event)},onError:function(n,r){}});document.getElementById("qr_transaction").addEventListener("submit",a);var o=document.getElementById("qr_transaction"),c=document.getElementById("qr_code"),e=document.getElementById("qr_box");function a(n){const r=new FormData(o);console.log(r);var t=new XMLHttpRequest;return t.onload=function(){if(this.readyState==4&&this.status==200){console.log(t);var s=JSON.parse(t.response);s.exists==!1?(e.classList.remove("dark:text-white"),e.classList.remove("text-black"),e.classList.add("text-red-600"),s.qr_code=s.qr_code+'<br/><span class="text-xl">[No QR Record Exists!]</span>'):(e.classList.remove("text-red-600"),e.classList.add("dark:text-white"),e.classList.add("text-black")),e.innerHTML=s.qr_code,Livewire.emit("refreshTransactions")}},t.open("POST",o.action,!0),t.send(r),n.preventDefault(),0}
